<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>JGE++: JAnimator Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>JAnimator Class Reference</h1><!-- doxytag: class="JAnimator" --><code>#include &lt;JAnimator.h&gt;</code>
<p>

<p>
<a href="class_j_animator-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#b6e1c6fd88803f0a92424b37d05e3c5b">JAnimator</a> (JResourceManager *resourceMgr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#140689cd209fcaf0bf4156da3724be58">~JAnimator</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#9e6e403c9ab8b8e2b06a10ee52295275">Load</a> (const char *scriptFile)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#c9824ca118a2a4dd3f0cc77dbf052c1d">Start</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#9e7e2d68cf8bd6988973aba7c6ed2fbf">Stop</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#7bac5d1e5614cc94a14f571239bedb1a">Pause</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#42ae249527bc239823102a03d3f8f375">Resume</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#ad31794aa7673cbec8c2579fac191870">Update</a> (float dt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#fa04cc4ccb1397ff8b6f54ca42705233">Render</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#6aed8af93c111be4603d8d25c177899a">IsAnimating</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#a785fe352ac2a0f8fbd7a608c4cdfa85">IsActive</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#afadc5f55f3d2ba0d5cb4a8d9f9920d9">SetCurrentFrameIndex</a> (int index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#67124eeb503b99d7385f3f9d6683434f">GetCurrentFrameIndex</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#6c9a89fcd6cb6e670bf29cb039b807d4">SetAnimationType</a> (int type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#daad2ea6f39c8768d35b424135e17e34">SetPosition</a> (float x, float y)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_animator.html#e5d9cc9cc1db908ead55c4fec84a30b3">SetHotSpot</a> (float x, float y)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A frame based animation system. The animation frames and play sequence are loaded from a XML file.<p>
A sample animation script:<p>
<div class="fragment"><pre class="fragment">        &lt;?xml version=<span class="stringliteral">"1.0"</span> standalone=<span class="stringliteral">"no"</span> ?&gt;

        &lt;script name=<span class="stringliteral">"abc"</span> type=<span class="stringliteral">"ANIMATION_TYPE_ONCE_AND_STAY"</span> framerate=<span class="stringliteral">"20"</span>&gt;
</pre></div><p>
"type" can be ANIMATION_TYPE_LOOPING, ANIMATION_TYPE_ONCE_AND_STAY, ANIMATION_TYPE_ONCE_AND_BACK, ANIMATION_TYPE_ONCE_AND_GONE or ANIMATION_TYPE_PINGPONG<p>
"framerate" is the rate of playback in frames per seconds.<p>
<div class="fragment"><pre class="fragment">        &lt;frame <span class="keywordtype">id</span>=<span class="stringliteral">"1"</span>&gt;
                &lt;obj name=<span class="stringliteral">"head"</span>&gt;
                        &lt;settings quad=<span class="stringliteral">"head"</span> x=<span class="stringliteral">"10"</span> y=<span class="stringliteral">"10"</span> hsize=<span class="stringliteral">"1.0"</span> vsize=<span class="stringliteral">"1.0"</span> rotation=<span class="stringliteral">"0.0"</span> r=<span class="stringliteral">"255"</span> g=<span class="stringliteral">"255"</span> b=<span class="stringliteral">"255"</span> a=<span class="stringliteral">"255"</span> /&gt;
                &lt;/obj&gt;
                &lt;obj name=<span class="stringliteral">"body"</span>&gt;
                        &lt;settings quad=<span class="stringliteral">"body"</span> /&gt;
                &lt;/obj&gt;
        &lt;/frame&gt;
</pre></div><p>
Each frame contains one or more frame objects. Each object is a quad with various settings. "quad" is the name of the quad. "x" and "y" is the position. "hsize" is the horizontal scaling and "vsize" is the vertical scaling. "rotation" is the angle that the quad will be rotated in radians. You can also specify the color and alpha of the quad with the "r", "g", "b" and "a" parameters.<p>
<div class="fragment"><pre class="fragment">        &lt;frame <span class="keywordtype">id</span>=<span class="stringliteral">"2"</span> time=<span class="stringliteral">"0.20"</span>&gt;
                &lt;obj name=<span class="stringliteral">"head"</span>&gt;
                        &lt;settings quad=<span class="stringliteral">"head"</span> x=<span class="stringliteral">"10"</span> y=<span class="stringliteral">"10"</span> hsize=<span class="stringliteral">"1.0"</span> vsize=<span class="stringliteral">"1.0"</span> rotation=<span class="stringliteral">"0.0"</span> r=<span class="stringliteral">"255"</span> g=<span class="stringliteral">"255"</span> b=<span class="stringliteral">"255"</span> a=<span class="stringliteral">"255"</span> /&gt;
                &lt;/obj&gt;
                &lt;obj name=<span class="stringliteral">"body"</span>&gt;
                        &lt;settings quad=<span class="stringliteral">"body"</span> a=<span class="stringliteral">"128"</span> /&gt;
                &lt;/obj&gt;
        &lt;/frame&gt;

        
 &lt;/script&gt;
</pre></div><p>
A frame can also overide the global frame rate by using the "time" parameter (in second) as shown above. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="b6e1c6fd88803f0a92424b37d05e3c5b"></a><!-- doxytag: member="JAnimator::JAnimator" ref="b6e1c6fd88803f0a92424b37d05e3c5b" args="(JResourceManager *resourceMgr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JAnimator::JAnimator           </td>
          <td>(</td>
          <td class="paramtype">JResourceManager *&nbsp;</td>
          <td class="paramname"> <em>resourceMgr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>resourceMgr</em>&nbsp;</td><td>- ResourceManager to look for images (JQuads) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="140689cd209fcaf0bf4156da3724be58"></a><!-- doxytag: member="JAnimator::~JAnimator" ref="140689cd209fcaf0bf4156da3724be58" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JAnimator::~JAnimator           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="9e6e403c9ab8b8e2b06a10ee52295275"></a><!-- doxytag: member="JAnimator::Load" ref="9e6e403c9ab8b8e2b06a10ee52295275" args="(const char *scriptFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool JAnimator::Load           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>scriptFile</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load animation sequence from a script file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>scriptFile</em>&nbsp;</td><td>- Animation script.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True if no problem during loading. False otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c9824ca118a2a4dd3f0cc77dbf052c1d"></a><!-- doxytag: member="JAnimator::Start" ref="c9824ca118a2a4dd3f0cc77dbf052c1d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JAnimator::Start           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Start animation. 
</div>
</div><p>
<a class="anchor" name="9e7e2d68cf8bd6988973aba7c6ed2fbf"></a><!-- doxytag: member="JAnimator::Stop" ref="9e7e2d68cf8bd6988973aba7c6ed2fbf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JAnimator::Stop           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stop animation. 
</div>
</div><p>
<a class="anchor" name="7bac5d1e5614cc94a14f571239bedb1a"></a><!-- doxytag: member="JAnimator::Pause" ref="7bac5d1e5614cc94a14f571239bedb1a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JAnimator::Pause           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pause animation. 
</div>
</div><p>
<a class="anchor" name="42ae249527bc239823102a03d3f8f375"></a><!-- doxytag: member="JAnimator::Resume" ref="42ae249527bc239823102a03d3f8f375" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JAnimator::Resume           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resume animation. 
</div>
</div><p>
<a class="anchor" name="ad31794aa7673cbec8c2579fac191870"></a><!-- doxytag: member="JAnimator::Update" ref="ad31794aa7673cbec8c2579fac191870" args="(float dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JAnimator::Update           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>dt</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update animation.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dt</em>&nbsp;</td><td>- Time elapsed since last update (in second). </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="fa04cc4ccb1397ff8b6f54ca42705233"></a><!-- doxytag: member="JAnimator::Render" ref="fa04cc4ccb1397ff8b6f54ca42705233" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JAnimator::Render           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Render animation. 
</div>
</div><p>
<a class="anchor" name="6aed8af93c111be4603d8d25c177899a"></a><!-- doxytag: member="JAnimator::IsAnimating" ref="6aed8af93c111be4603d8d25c177899a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool JAnimator::IsAnimating           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if animation is playing or not.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True if playing animation. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a785fe352ac2a0f8fbd7a608c4cdfa85"></a><!-- doxytag: member="JAnimator::IsActive" ref="a785fe352ac2a0f8fbd7a608c4cdfa85" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool JAnimator::IsActive           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if the animation is active.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True if active. </dd></dl>

</div>
</div><p>
<a class="anchor" name="afadc5f55f3d2ba0d5cb4a8d9f9920d9"></a><!-- doxytag: member="JAnimator::SetCurrentFrameIndex" ref="afadc5f55f3d2ba0d5cb4a8d9f9920d9" args="(int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JAnimator::SetCurrentFrameIndex           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set current frame to a particular index.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>- The new index of current frame. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="67124eeb503b99d7385f3f9d6683434f"></a><!-- doxytag: member="JAnimator::GetCurrentFrameIndex" ref="67124eeb503b99d7385f3f9d6683434f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int JAnimator::GetCurrentFrameIndex           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get index of current frame.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Index of current frame. </dd></dl>

</div>
</div><p>
<a class="anchor" name="6c9a89fcd6cb6e670bf29cb039b807d4"></a><!-- doxytag: member="JAnimator::SetAnimationType" ref="6c9a89fcd6cb6e670bf29cb039b807d4" args="(int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JAnimator::SetAnimationType           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>type</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set animation type.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>- Animation type.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">                <a class="code" href="class_j_sprite.html#dd8a97654d2ae471e4572c4f60f1031f1f034bfaee18258f0658b1d9cf09ce01" title="Repeat playing (Default).">JSprite::ANIMATION_TYPE_LOOPING</a> - Default
                <a class="code" href="class_j_sprite.html#dd8a97654d2ae471e4572c4f60f1031f1a8e3d1068c5ad334d7f4ecd785b87ec" title="Play animation once only.">JSprite::ANIMATION_TYPE_ONCE_AND_GONE</a>
                <a class="code" href="class_j_sprite.html#dd8a97654d2ae471e4572c4f60f1031fab81e12365c0f69d8842ce449fa7610c" title="Play to the end and stay at last frame.">JSprite::ANIMATION_TYPE_ONCE_AND_STAY</a>
                <a class="code" href="class_j_sprite.html#dd8a97654d2ae471e4572c4f60f1031f3818aa09ff532ab98ca9618189c2515a" title="Play to end and then stay at first frame.">JSprite::ANIMATION_TYPE_ONCE_AND_BACK</a>
                <a class="code" href="class_j_sprite.html#dd8a97654d2ae471e4572c4f60f1031fb40f498d492d7efc3d0746531c885654" title="Play forward then backward and repeat.">JSprite::ANIMATION_TYPE_PINGPONG</a>
</pre></div> 
</div>
</div><p>
<a class="anchor" name="daad2ea6f39c8768d35b424135e17e34"></a><!-- doxytag: member="JAnimator::SetPosition" ref="daad2ea6f39c8768d35b424135e17e34" args="(float x, float y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JAnimator::SetPosition           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set position of the sprite.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>- X position. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>- Y position. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e5d9cc9cc1db908ead55c4fec84a30b3"></a><!-- doxytag: member="JAnimator::SetHotSpot" ref="e5d9cc9cc1db908ead55c4fec84a30b3" args="(float x, float y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JAnimator::SetHotSpot           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set anchor point of the animation. All rendering operations will be based on this anchor point.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>- X position of the anchor point. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>- Y position of the anchor point. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Oct 22 00:28:22 2007 for JGE++ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
